# RPC和远程http调用哪个好

在分布式架构中，多个项目直接的相互调用，一般用的是，RPC或者http，到底选用哪个好呢，他们的使用场景是啥？

# 区别：

HTTP是一个应用层网络协议，RPC是一个编程模型；

 

目标都是请求另一台服务器上的资源，RPC面向的一种编程语言中的实例（java中就是对象），HTTP面向的是一个HTTP协议，那么在使用http的时候，你就要考虑这个协议的方方面面的问题（如果只想做简单的发送与返回数据也很简单，不用太多http的特性），如果使用RPC面向一个语言本身中的对象，会比面向HTTP协议更加简单，但是局限性也就很强了，你所做的关于数据传输的结果，不能绕过编程语言中的限制，比如在java中，那么传输字符串就只能是string，传输图片就只能是stream，使用http使用什么格式都需要自定义，甚至可以跨语言定义一个数据交换模型，所以http比rpc请求远程数据自定义程度会更高；但是如果只是传输字符串，使用http会更简单，但是如果要传输别格式的信息文件，类，使用http就需要做很作的工作了，而rpc可以天然满足；rpc可以建立在http上，也可以是别的协议；

 

# 应该用哪个

 

需求只是传输字符串和JSON格式的数据，使用http就好了，http就是文本协议；

 

需求更多，涉及到了别的类型的数据，使用RPC统一数据交换模型（rpc采取的方式一般是双方都是统一的编程模型，很少有变成别的模型的，比如传输过程中对对象做类型转换，总之是为了传输数据更方便），目前的RP框架都是传输双方特定的数据类型，如果有转换数据类型需求，或许使用http做个请求封装会更好（此时他就是一个特殊的RPC协议）